#!/usr/bin/env php
<?php
/**
 * @author Damian Glinkowski <damianglinkowski@gmail.com>
 */

$loader = file_exists(__DIR__ . '/../../../autoload.php') ?
    require_once __DIR__ . '/../../../autoload.php' :
    require_once __DIR__ . '/../vendor/autoload.php';

use d0niek\GenericCollection\Command\ArrayGeneratorCommand;
use d0niek\GenericCollection\Command\ExamplesGeneratorCommand;
use d0niek\GenericCollection\Command\VectorGeneratorCommand;
use d0niek\GenericCollection\Service\CollectionWriter;
use d0niek\GenericCollection\Service\CollectionRender;
use d0niek\GenericCollection\Service\CollectionGenerator;
use Symfony\Component\Console\Application;

$collectionRender = new CollectionRender(__DIR__ . '/..');
$collectionWriter = new CollectionWriter($loader);
$collectionGenerator = new CollectionGenerator($collectionRender, $collectionWriter);

$app = new Application();
$app->add(new ArrayGeneratorCommand($collectionGenerator));
$app->add(new ExamplesGeneratorCommand($collectionGenerator));
$app->add(new VectorGeneratorCommand($collectionGenerator));

$app->run();
